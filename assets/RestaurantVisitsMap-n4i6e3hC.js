import{c as w,l as y,a as v,e as C,b as j,r as b,u as k,d as z,j as a,B as d,M as R,T as $,f as s,R as A,C as c,P as S,L as W}from"./index-D1G83tm1.js";const T=w(function({position:t,...e},n){const r=new y.Marker(t,e);return v(r,C(n,{overlayContainer:r}))},function(t,e,n){e.position!==n.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==n.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==n.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==n.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),L=j(function(t,e){const n=new y.Popup(t,e.overlayContainer);return v(n,e)},function(t,e,{position:n},r){b.useEffect(function(){const{instance:l}=t;function p(i){i.popup===l&&(l.update(),r(!0))}function u(i){i.popup===l&&r(!1)}return e.map.on({popupopen:p,popupclose:u}),e.overlayContainer==null?(n!=null&&l.setLatLng(n),l.openOn(e.map)):e.overlayContainer.bindPopup(l),function(){var m;e.map.off({popupopen:p,popupclose:u}),(m=e.overlayContainer)==null||m.unbindPopup(),e.map.removeLayer(l)}},[t,e,r,n])}),f={lat:33.749,lng:-84.388},O=o=>W.divIcon({className:"custom-marker",html:`<div style="background-color: ${o}; width: 24px; height: 24px; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 8px rgba(0,0,0,0.3);"></div>`,iconSize:[30,30],iconAnchor:[15,15],popupAnchor:[0,-15]}),x=[{id:"1",name:"Staplehouse",location:{lat:33.7536,lng:-84.3723},rating:4.9,visitDate:"2024-04-12",review:"Exceptional tasting menu with seasonal ingredients. The atmosphere was intimate and service impeccable.",cuisine:"New American",priceRange:"$$$$",city:"Atlanta"},{id:"2",name:"Bones Restaurant",location:{lat:33.8454,lng:-84.367},rating:4.7,visitDate:"2024-03-18",review:"Classic steakhouse with perfect dry-aged steaks. Old-school elegance and attentive service.",cuisine:"Steakhouse",priceRange:"$$$$",city:"Atlanta"},{id:"3",name:"Tuk Tuk Thai Food Loft",location:{lat:33.7894,lng:-84.366},rating:4.4,visitDate:"2024-02-28",review:"Authentic Thai flavors with a modern twist. The rooftop setting provides a nice view of the city.",cuisine:"Thai",priceRange:"$$",city:"Atlanta"},{id:"4",name:"Slutty Vegan",location:{lat:33.7539,lng:-84.4301},rating:4.6,visitDate:"2024-03-05",review:"Incredible plant-based burgers that would satisfy even meat lovers. Always a fun atmosphere.",cuisine:"Vegan",priceRange:"$$",city:"Atlanta"},{id:"5",name:"Pancake Pantry",location:{lat:36.1513,lng:-86.798},rating:4.5,visitDate:"2024-02-15",review:"Iconic Nashville breakfast spot with incredible pancakes. Worth the wait in line!",cuisine:"Breakfast",priceRange:"$$",city:"Nashville"},{id:"6",name:"Hattie B's Hot Chicken",location:{lat:36.1514,lng:-86.7939},rating:4.7,visitDate:"2024-02-16",review:"The best hot chicken in Nashville. Perfect spice levels and incredibly juicy.",cuisine:"Southern",priceRange:"$$",city:"Nashville"}],N=()=>{const o=k(),t=z(),[e,n]=b.useState(null),r=i=>i>=4.5?t.palette.secondary.main:i>=4?t.palette.primary.main:t.palette.primary.light,g=e?x.filter(i=>i.city===e):x,l=()=>e==="Nashville"?[36.1627,-86.7816]:[f.lat,f.lng],p=()=>e?13:5,u=i=>{o(`/restaurant/${i}`)};return a.jsxs(d,{sx:{height:"600px",width:"100%",position:"relative",borderRadius:2,overflow:"hidden",border:`1px solid ${t.palette.divider}`},children:[a.jsxs(R,{center:e?l():[35.5,-85],zoom:p(),style:{height:"100%",width:"100%"},zoomControl:!0,scrollWheelZoom:!0,children:[a.jsx($,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),g.map(i=>a.jsx(T,{position:[i.location.lat,i.location.lng],icon:O(r(i.rating)),eventHandlers:{click:()=>{u(i.id)}},children:a.jsx(L,{children:a.jsxs(d,{sx:{minWidth:220,maxWidth:250},children:[a.jsx(s,{variant:"h6",sx:{fontWeight:600,mb:.5},children:i.name}),a.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[a.jsx(A,{value:i.rating,precision:.1,size:"small",readOnly:!0}),a.jsx(s,{variant:"body2",color:"text.secondary",fontWeight:500,children:i.rating.toFixed(1)})]}),a.jsxs(d,{sx:{display:"flex",gap:.5,flexWrap:"wrap",mb:1},children:[a.jsx(c,{label:i.cuisine,size:"small",sx:{backgroundColor:h(t.palette.primary.main,.1),color:t.palette.primary.main,fontWeight:500,fontSize:"0.7rem"}}),a.jsx(c,{label:i.priceRange,size:"small",sx:{backgroundColor:h(t.palette.secondary.main,.1),color:t.palette.secondary.main,fontWeight:500,fontSize:"0.7rem"}}),a.jsx(c,{label:i.city,size:"small",sx:{backgroundColor:h(t.palette.primary.dark,.07),color:t.palette.primary.dark,fontWeight:500,fontSize:"0.7rem"}})]}),a.jsxs(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Visited: ",new Date(i.visitDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),a.jsx(s,{variant:"body2",sx:{fontSize:"0.85rem"},children:i.review})]})})},i.id))]}),a.jsxs(S,{elevation:2,sx:{position:"absolute",top:16,left:16,zIndex:1e3,p:1.5,backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(4px)",borderRadius:2,maxWidth:300},children:[a.jsx(s,{variant:"h6",sx:{color:t.palette.primary.main,fontWeight:600,mb:.5},children:"Restaurant Visits"}),a.jsx(s,{variant:"body2",color:"text.secondary",children:"Tracking memorable dining experiences from my travels"}),a.jsxs(d,{sx:{display:"flex",flexWrap:"wrap",gap:1,mt:2},children:[a.jsx(c,{label:"All",color:e===null?"primary":"default",size:"small",onClick:()=>n(null),sx:{fontWeight:500}}),a.jsx(c,{label:"Atlanta",color:e==="Atlanta"?"primary":"default",size:"small",onClick:()=>n("Atlanta"),sx:{fontWeight:500}}),a.jsx(c,{label:"Nashville",color:e==="Nashville"?"primary":"default",size:"small",onClick:()=>n("Nashville"),sx:{fontWeight:500}})]})]})]})};function h(o,t){return o+Math.round(t*255).toString(16).padStart(2,"0")}export{N as default};
