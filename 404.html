<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Redirecting...</title>
  <script type="text/javascript">
    // Single page apps (SPA) generally route through index.html.
    // GitHub Pages redirect all 404s to 404.html.
    // This script redirects from 404.html to index.html, preserving the
    // full path.

    // Get the current path segment, which should be the repository name if deployed to GitHub Pages.
    // e.g., /food-blog/
    const pathSegmentsToKeep = 1; // Adjust this if your repo name has slashes or you have a more complex base path.

    const l = window.location;
    const newPath = l.pathname.split('/').slice(0, 1 + pathSegmentsToKeep).join('/') + '/';

    sessionStorage.redirect = l.pathname + l.search + l.hash;

    l.replace(
      l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
      newPath +
      (l.search ? '?' + l.search : '') +
      '#/' + // Add '#' for HashRouter-like behavior before redirecting to SPA
      sessionStorage.redirect.substring(newPath.length).replace(/\/$/, '') // Get the part after the base path
    );
  </script>
</head>
<body>
</body>
</html> 